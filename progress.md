Original prompt: Build a classic Snake game in this repo.

2026-02-17
- Repository is empty (no framework/tooling present), so implementing dependency-free static HTML/CSS/JS.
- Plan: isolate deterministic game logic, wire minimal UI loop, add keyboard + on-screen controls, add Node test script.
- Added `snake-logic.js` with deterministic pure functions for state creation, movement, food placement, collision checks, pause toggle.
- Added minimal UI (`index.html`, `styles.css`, `app.js`) with score, status, restart, pause, keyboard (arrows/WASD), and on-screen controls.
- Added deterministic hooks: `window.render_game_to_text()` and `window.advanceTime(ms)` for automated stepping/inspection.
- Added `tests/snake-logic.test.js` for movement, direction input, wall/self collisions, growth+score, and safe food placement.
- Ran `node tests/snake-logic.test.js` successfully (all tests passed).
- Playwright skill client could not run in this environment due ESM execution mismatch (`Cannot use import statement outside a module`).
- TODO: If browser automation is required, run the Playwright client in an ESM-configured Node environment.
- Added food variants with different visual sizes/colors and weighted spawn rates.
- Scoring now uses per-food points (small/yellow=3, medium/orange=2, large/red=1).
- Added WebAudio pop sound when food is eaten (triggered after first user interaction due browser audio policies).
- Updated logic tests to cover food metadata and point-based scoring.
- Added a game-over jingle (Mario-style retro descending tones) triggered once when losing.
- Added obstacle system: each 30 score milestone spawns a gray obstacle on the snake's forward path.
- Eating an obstacle now shrinks snake length by one segment and removes that obstacle.
- Updated tests to validate milestone spawning and obstacle consumption behavior.
- Updated obstacle milestones to spawn multiple gray obstacles (3 per 30-point threshold).
- Added persistent high score using `localStorage` and surfaced it in the top HUD.
- Added player-name-based score saving and persistent leaderboard (`snake_leaderboard_v1`).
- Added 3-second countdown before gameplay starts (initial load and each restart).
- Changed score recording to save only when the player sets a new high score (not every game over).
- Replaced text countdown with a full-screen movie-style modal countdown overlay.
- Removed always-visible name input; new high-score name/avatar is collected in a modal only when a record is set.
- Leaderboard entries now include avatar + name.
- Added ready/set/go audio cues during countdown (tone + voice).
- Added background music support during active gameplay with a Music On/Off toggle.
- Music source path is `assets/mission-impossible-licensed.mp3` (user-provided licensed audio file).
- Added start menu modal flow and switched background music to `assets/freepik-game-on.mp3`.
- Music now plays louder in the start menu and automatically reduces volume after starting gameplay.
- Updated music behavior to keep looping continuously across all states (including loss/game-over).
- Rebalanced audio mix so SFX are louder than background music.
- Updated page layout to a desktop split: game area 65%, leaderboard 35% (stacks on mobile).
- Enabled explicit audio `autoplay` and retained autoplay retry logic for immediate background playback from load.
- Renamed title to "Ossai Sama Snake" across page title and headings.
- Added bundled SF Pro Rounded `@font-face` files from `assets/fonts` and switched app typography to that family.
- Implemented score-based snake speed progression: starts slow and accelerates as score increases.
- Disabled page scrolling during gameplay input and prevented arrow-key default scroll behavior.
- Increased grid density to 22x22 cells.
- Restyled music/pause/restart controls with imported SVG icons and pill button style matching reference.
- Unified leaderboard and instruction containers under shared card styling.
- Updated leaderboard to reference-style row list with score badges and separators.
- Refactored viewport layout sizing so header/actions/game/cards fit without clipping on desktop.
- Applied modal buttons to shared pill style (`control-btn modal-btn`) for start/high-score dialogs.
- Fixed clipping by removing rigid viewport locks and switching to `100dvh`-based min-height sizing.
- Added dedicated `togglePausePlay()` handler used by both keyboard and button events.
- Updated instruction/leaderboard containers to 41px radius with requested multi-drop-shadow filter.
- Removed status line and added a game-over overlay modal anchored on top of the game grid.
- Switched pause/play button icon+label mapping as requested.
- Set instruction/leaderboard radius to match grid (20px) and made game board fill 100% of the 65% pane width.
- Moved countdown modal into the grid overlay layer (no full-screen countdown modal).
- Added randomized game-over commentary (mix of teasing and encouraging lines).
- Restyled instructions to match provided design pattern (section headings, keycaps, scoring chips).
- Darkened and emboldened leaderboard number badges.
- Added sharp milestone cue at every 12 points and changed obstacle milestone cadence to every 12 points.
- Rotated leaderboard storage key to `snake_leaderboard_v2` to reset existing leaderboard data.
- Renamed game title/header/start modal title to "Snake by ossaisama".
- Added top-right clickable social icon links (Website, LinkedIn, X, Dribbble, Layers) with reference-inspired circular styling.
- Rotated leaderboard storage key again to `snake_leaderboard_v3` to reset current leaderboard data.
- Added optional Cancel action to high-score modal; users can skip saving a new high score.
- Restyled high-score modal input and avatar picker to dark reference style with circular bordered avatar chips.
- Rotated leaderboard storage key to `snake_leaderboard_v4` to reset leaderboard again.
- Fixed global leaderboard duplicate rows by deduplicating merged entries in `sanitizeLeaderboardEntries` using `name+avatar+score` key and keeping the newest timestamp.
- Cleared global leaderboard store in Cloudflare KV by setting `scores` key to `[]`.
- Added obstacle-hit feedback in `app.js`: plays a descending sad SFX and triggers orange pulse effect when snake consumes an obstacle.
- Added orange pulse animation styles (`#game.obstacle-hit-pulse`) in `styles.css`.
